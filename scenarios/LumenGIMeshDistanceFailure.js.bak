{
  "scenario_id": "LumenGIMeshDistanceFailure",
  "title": "Lumen GI Loss of Contribution from Distant Emissive Mesh",
  "problem_description": "A futuristic environment features a large, highly emissive sci-fi panel that uses a complex material. When the player stands very close to the panel, it correctly casts soft, vibrant global illumination (GI) onto nearby surfaces. However, as the player moves back 50 meters or more, the GI contribution from this panel completely vanishes, making the overall scene significantly darker. The panel itself still appears bright due to its direct emissive color, but it behaves as if it's not contributing any light bounces or ambient influence to the rest of the environment or reflections. The scene is configured to use Lumen for Global Illumination.",
  "estimated_hours": 3.25,
  "focus_area": "Lighting & Rendering",
  "correct_solution_steps": [
    {
      "step_description": "Open the Level Viewport and activate the 'Lumen Scene' visualization mode (Show > Visualize > Lumen Scene) to diagnose how the mesh is represented for GI calculations.",
      "time_cost": 0.15
    },
    {
      "step_description": "Observe the representation of the large emissive panel in the Lumen Scene visualization; note that its distance field representation might be too sparse or completely missing when viewed from a distance.",
      "time_cost": 0.15
    },
    {
      "step_description": "Select the static mesh actor using the problematic emissive material in the Outliner.",
      "time_cost": 0.05
    },
    {
      "step_description": "In the Details panel for the mesh component, navigate to the Lighting section and verify that 'Affect Global Illumination' is checked.",
      "time_cost": 0.1
    },
    {
      "step_description": "Open the associated Parent Material asset used on the panel.",
      "time_cost": 0.15
    },
    {
      "step_description": "In the Material Details panel (not the graph), locate the 'Usage' section and ensure the specific flag 'Use Emissive for Global Illumination' is checked. This flag is crucial for complex materials to contribute GI correctly.",
      "time_cost": 0.35
    },
    {
      "step_description": "Verify the emissive output in the Material graph. Ensure the final Emissive Color node output is clamped to a reasonable range (e.g., using a Clamp node) to prevent numerical instability, which can confuse Lumen's surface cache generation.",
      "time_cost": 0.25
    },
    {
      "step_description": "Apply and save the updated Material, and return to the level view.",
      "time_cost": 0.1
    },
    {
      "step_description": "Re-examine the mesh details panel in the level, looking for the 'Static Mesh Settings' subsection under the Mesh component.",
      "time_cost": 0.1
    },
    {
      "step_description": "Increase the 'Emissive Light Source Contribution' multiplier on the static mesh component from 1.0 to 5.0 to ensure the contribution isn't just capped too low by default.",
      "time_cost": 0.25
    },
    {
      "step_description": "Locate the 'Distance Field Resolution Scale' property on the static mesh component and slightly increase it (e.g., from 1.0 to 1.5) to ensure a more detailed distance field representation for better Lumen scene coverage.",
      "time_cost": 0.3
    },
    {
      "step_description": "If the mesh uses Nanite, check the Nanite settings on the mesh asset itself and verify that 'Preserve Area' is enabled, which helps preserve the mesh's surface details for GI calculation.",
      "time_cost": 0.3
    },
    {
      "step_description": "Open Project Settings (Edit > Project Settings) under Rendering > Global Illumination.",
      "time_cost": 0.05
    },
    {
      "step_description": "Locate the Lumen settings block and find the 'Lumen Scene View Distance' property.",
      "time_cost": 0.05
    },
    {
      "step_description": "Increase the 'Lumen Scene View Distance' (default usually 5000) to a much higher value, such as 25000 units, to ensure the distant large emissive source is always included in the calculation boundary.",
      "time_cost": 0.2
    },
    {
      "step_description": "Find the main Post Process Volume affecting the scene.",
      "time_cost": 0.05
    },
    {
      "step_description": "Under the Global Illumination category in the Post Process Volume, check the 'Final Gather Quality' setting and increase it from 1.0 to 2.0 to ensure higher fidelity light bouncing from complex surfaces.",
      "time_cost": 0.2
    },
    {
      "step_description": "Verify the GI method: If the project supports Hardware Ray Tracing, ensure the GI Method in Project Settings is explicitly set to 'Lumen (Hardware Ray Tracing)' for better large-scale GI accuracy and performance compared to Software Ray Tracing.",
      "time_cost": 0.2
    }
  ],
  "common_wrong_steps": [
    {
      "step_description": "Attempting to solve the issue by drastically increasing the overall Post Process Volume Exposure compensation (e.g., 'Min/Max Brightness') instead of fixing the source light contribution.",
      "time_penalty": 0.75
    },
    {
      "step_description": "Adding point lights or spot lights near the emissive panel to fake GI, which defeats the purpose of accurate Lumen contribution.",
      "time_penalty": 0.5
    },
    {
      "step_description": "Checking the Directional Light and Sky Light intensities, mistakenly believing the overall ambient light level is the cause.",
      "time_penalty": 0.25
    },
    {
      "step_description": "Toggling 'Generate Mesh Distance Fields' in Project Settings without realizing this requires a full editor restart and is typically a project-level setting that shouldn't be touched during routine debugging.",
      "time_penalty": 1
    }
  ]
}
