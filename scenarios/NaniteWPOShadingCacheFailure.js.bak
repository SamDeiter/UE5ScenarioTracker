{
  "scenario_id": "NaniteWPOShadingCacheFailure",
  "title": "Distant Static Mesh Turns Pitch Black Due to Nanite WPO Misconfiguration",
  "problem_description": "In a detailed cathedral scene using Lumen, a large, ornate marble statue (a Nanite mesh) appears perfectly lit and shaded when the player is close (within 10 meters). However, as soon as the player moves further away, the statue instantly loses all high-frequency shading detail, becoming uniformly black and reflecting light incorrectly, despite being exposed to direct spotlights and the Skylight. This artifact only affects this specific statue asset, while surrounding assets render normally.",
  "estimated_hours": 1.62,
  "focus_area": "Lighting & Rendering",
  "correct_solution_steps": [
    {
      "step_description": "Use the level search filter to isolate and select the problematic statue Actor in the Outliner.",
      "time_cost": 0.02
    },
    {
      "step_description": "Verify the Actor's lighting settings on the Static Mesh Component (e.g., Mobility is Static or Stationary, and 'Affect Global Illumination' is enabled).",
      "time_cost": 0.05
    },
    {
      "step_description": "Switch the viewport rendering mode to 'Visualize -> Lumen Global Illumination' and observe that the statue is black in the distance view, confirming a Lumen/Nanite shading cache failure related to the asset's geometry.",
      "time_cost": 0.1
    },
    {
      "step_description": "Switch to the 'Visualize -> Nanite' view mode (e.g., Clusters) to confirm the asset is indeed Nanite enabled, which is necessary context for the bug.",
      "time_cost": 0.05
    },
    {
      "step_description": "Identify the Master Material applied to the statue by checking the Static Mesh Component details or the Static Mesh Asset itself.",
      "time_cost": 0.05
    },
    {
      "step_description": "Open the Master Material of the statue to inspect its properties.",
      "time_cost": 0.05
    },
    {
      "step_description": "In the Material Details panel, under the Usage category, verify that the checkbox 'Uses World Position Offset' is checked, confirming WPO is active.",
      "time_cost": 0.05
    },
    {
      "step_description": "Analyze the World Position Offset output node logic in the Material Graph to ensure the WPO magnitude is reasonable and not outputting NaN (Not a Number) or extremely large values that could corrupt the bounding box or Nanite data. (Requires careful review of scalar parameters).",
      "time_cost": 0.3
    },
    {
      "step_description": "Close the Material Editor and open the problematic Static Mesh Asset (the statue mesh) by double-clicking it in the Content Browser.",
      "time_cost": 0.05
    },
    {
      "step_description": "In the Static Mesh Editor's Details panel, locate the 'Nanite Settings' group.",
      "time_cost": 0.02
    },
    {
      "step_description": "Note the 'Fallback Relative Error' value and confirm it is reasonable (e.g., 5.0), eliminating LOD/proxy mesh quality as the primary cause.",
      "time_cost": 0.03
    },
    {
      "step_description": "Scroll down to the 'World Position Offset Settings' within the Nanite Settings group.",
      "time_cost": 0.02
    },
    {
      "step_description": "Change the critical 'WPO Evaluation Mode' property from 'Disabled' (or 'Manual') to 'Enabled' (or 'Auto'), which forces Nanite to correctly evaluate WPO when generating its proxy representation for Lumen and distant views.",
      "time_cost": 0.35
    },
    {
      "step_description": "Apply Changes and Save the Static Mesh Asset to force Nanite data regeneration.",
      "time_cost": 0.02
    },
    {
      "step_description": "Close the Static Mesh Editor and return to the Level Editor.",
      "time_cost": 0.02
    },
    {
      "step_description": "If the issue persists, locate the specific Static Mesh Component on the Actor in the scene again.",
      "time_cost": 0.02
    },
    {
      "step_description": "Check the component's 'Rendering' category for 'Support Global Illumination' and ensure it is enabled, confirming component level GI support is active.",
      "time_cost": 0.02
    },
    {
      "step_description": "Verify that moving away and back to the statue now preserves correct lighting, shading, and Lumen GI contribution across all distances.",
      "time_cost": 0.1
    }
  ],
  "common_wrong_steps": [
    {
      "step_description": "Adjusting the Skylight intensity or disabling the Post Process Volume, assuming the issue is overall exposure or lighting brightness.",
      "time_penalty": 0.25
    },
    {
      "step_description": "Toggling Lumen settings (like Final Gather Quality) in Project Settings, as the issue is localized to one asset, not a global GI failure.",
      "time_penalty": 0.3
    },
    {
      "step_description": "Disabling Nanite on the Static Mesh Asset entirely (which fixes the symptom but avoids the necessary WPO/Nanite interaction fix).",
      "time_penalty": 0.15
    },
    {
      "step_description": "Attempting to manually build lighting, assuming it is a traditional lightmap issue, ignoring that Lumen is active.",
      "time_penalty": 0.1
    }
  ]
}